(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(3342)}])},1600:function(r,n,e){"use strict";e.d(n,{lX:function(){return f},ct:function(){return v},TY:function(){return d},bo:function(){return p}});var t=e(4051),o=e.n(t),u=e(5503),i=e(7702),a=e(6257);function c(r,n,e,t,o,u,i){try{var a=r[u](i),c=a.value}catch(l){return void e(l)}a.done?n(c):Promise.resolve(c).then(t,o)}var l={apiKey:"AIzaSyArk-HMekQ8UpSTeSrxsX7dsDCLubzemvc",authDomain:"next-firebase-demo-94846.firebaseapp.com",projectId:"next-firebase-demo-94846",storageBucket:"next-firebase-demo-94846.appspot.com",messagingSenderId:"858773136186",appId:"1:858773136186:web:38919d90381697cb63e603"};console.log(l.apiKey);var s=(0,u.ZF)(l),f=(0,i.v0)(s),v={signInSuccessUrl:"/",signInOptions:[i.GH.PROVIDER_ID]},d=((0,a.ad)(s),function(r){return(0,a.hJ)((0,a.ad)(s),r)}),p=function(){var r,n=(r=o().mark((function r(n,e,t){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.pl)((0,a.JU)(n,e),t));case 1:case"end":return r.stop()}}),r)})),function(){var n=this,e=arguments;return new Promise((function(t,o){var u=r.apply(n,e);function i(r){c(u,t,o,i,a,"next",r)}function a(r){c(u,t,o,i,a,"throw",r)}i(void 0)}))});return function(r,e,t){return n.apply(this,arguments)}}()},3342:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return O}});var t=e(4051),o=e.n(t),u=e(5893),i=e(1600),a=e(7702),c=e(7294);function l(r,n,e,t){return new(e||(e=Promise))((function(o,u){function i(r){try{c(t.next(r))}catch(n){u(n)}}function a(r){try{c(t.throw(r))}catch(n){u(n)}}function c(r){var n;r.done?o(r.value):(n=r.value,n instanceof e?n:new e((function(r){r(n)}))).then(i,a)}c((t=t.apply(r,n||[])).next())}))}function s(r,n){var e,t,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,t=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=n.call(r,i)}catch(a){u=[6,a],t=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}var f=function(){return f=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r},f.apply(this,arguments)},v=function(r){return{loading:void 0===r||null===r,value:r}},d=function(r){var n=r?r():void 0,e=(0,c.useReducer)((function(r,n){switch(n.type){case"error":return f(f({},r),{error:n.error,loading:!1,value:void 0});case"reset":return v(n.defaultValue);case"value":return f(f({},r),{error:void 0,loading:!1,value:n.value});default:return r}}),v(n)),t=e[0],o=e[1],u=function(){var n=r?r():void 0;o({type:"reset",defaultValue:n})},i=function(r){o({type:"error",error:r})},a=function(r){o({type:"value",value:r})};return(0,c.useMemo)((function(){return{error:t.error,loading:t.loading,reset:u,setError:i,setValue:a,value:t.value}}),[t.error,t.loading,u,i,a,t.value])},p=e(6257);var h=function(){return h=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r},h.apply(this,arguments)},y=function(r){return{loading:void 0===r||null===r,value:r}},g=function(r){var n=r?r():void 0,e=(0,c.useReducer)((function(r,n){switch(n.type){case"error":return h(h({},r),{error:n.error,loading:!1,value:void 0});case"reset":return y(n.defaultValue);case"value":return h(h({},r),{error:void 0,loading:!1,value:n.value});default:return r}}),y(n)),t=e[0],o=e[1],u=function(){var n=r?r():void 0;o({type:"reset",defaultValue:n})},i=function(r){o({type:"error",error:r})},a=function(r){o({type:"value",value:r})};return(0,c.useMemo)((function(){return{error:t.error,loading:t.loading,reset:u,setError:i,setValue:a,value:t.value}}),[t.error,t.loading,u,i,a,t.value])},b=function(r,n,e){var t=(0,c.useRef)(r);return(0,c.useEffect)((function(){n(r,t.current)||(t.current=r,e&&e())})),t},w=function(r,n){var e=!r&&!n,t=!!r&&!!n&&(0,p.iE)(r,n);return e||t},m=function(r,n){return b(r,w,n)},x=function(r,n){var e=g(),t=e.error,o=e.loading,u=e.reset,i=e.setError,a=e.setValue,l=e.value,s=m(r,u);(0,c.useEffect)((function(){if(s.current){var r=(null===n||void 0===n?void 0:n.snapshotListenOptions)?(0,p.cf)(s.current,n.snapshotListenOptions,a,i):(0,p.cf)(s.current,a,i);return function(){r()}}a(void 0)}),[s.current]);var f=[l,o,t];return(0,c.useMemo)((function(){return f}),f)};function j(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function E(r,n,e,t,o,u,i){try{var a=r[u](i),c=a.value}catch(l){return void e(l)}a.done?n(c):Promise.resolve(c).then(t,o)}function k(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,o,u=[],i=!0,a=!1;try{for(e=e.call(r);!(i=(t=e.next()).done)&&(u.push(t.value),!n||u.length!==n);i=!0);}catch(c){a=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return j(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){var r,n,e=k(function(r,n){var e=d((function(){return r.currentUser})),t=e.error,o=e.loading,u=e.setError,i=e.setValue,f=e.value;(0,c.useEffect)((function(){var e=(0,a.Aj)(r,(function(r){return l(void 0,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.onUserChanged(r)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),u(e),[3,4];case 4:return i(r),[2]}}))}))}),u);return function(){e()}}),[r]);var v=[f,o,t];return(0,c.useMemo)((function(){return v}),v)}(i.lX),3),t=e[0],f=e[1],v=(e[2],k(x((0,i.TY)("votes"),{snapshotListenOptions:{includeMetadataChanges:!0}}),3)),p=v[0],h=v[1];v[2];console.log("Loading:",f,"|","Current user:",t),console.log("Loading:",h,"|","Current votes:",null===p||void 0===p?void 0:p.docs),!h&&p&&p.docs.map((function(r){return console.log(r.data())}));var y=function(){var r,n=(r=o().mark((function r(n){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(0,i.bo)((0,i.TY)("votes"),t.uid,{vote:n});case 1:case"end":return r.stop()}}),r)})),function(){var n=this,e=arguments;return new Promise((function(t,o){var u=r.apply(n,e);function i(r){E(u,t,o,i,a,"next",r)}function a(r){E(u,t,o,i,a,"throw",r)}i(void 0)}))});return function(r){return n.apply(this,arguments)}}();return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",gridGap:8},children:[(0,u.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[(0,u.jsx)("button",{style:{fontSize:32,marginRight:8},onClick:function(){return y("yes")},children:"\u2714\ufe0f\ud83c\udf4d\ud83c\udf55"}),(0,u.jsxs)("h3",{children:["Pinapple Lovers:"," ",null===p||void 0===p||null===(r=p.docs)||void 0===r?void 0:r.filter((function(r){return"yes"===r.data().vote})).length]})]}),(0,u.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[(0,u.jsx)("button",{style:{fontSize:32,marginRight:8},onClick:function(){return y("no")},children:"\u274c\ud83c\udf4d\ud83c\udf55"}),(0,u.jsxs)("h3",{children:["Pinapple Haters:"," ",null===p||void 0===p||null===(n=p.docs)||void 0===n?void 0:n.filter((function(r){return"no"===r.data().vote})).length]})]})]})}}},function(r){r.O(0,[16,333,39,774,888,179],(function(){return n=5301,r(r.s=n);var n}));var n=r.O();_N_E=n}]);