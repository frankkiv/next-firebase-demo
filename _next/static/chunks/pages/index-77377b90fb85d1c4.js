(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(3342)}])},1600:function(n,r,e){"use strict";e.d(r,{lX:function(){return f},ct:function(){return v},TY:function(){return d},bo:function(){return p}});var t=e(4051),o=e.n(t),u=e(5503),i=e(7702),a=e(6257);function c(n,r,e,t,o,u,i){try{var a=n[u](i),c=a.value}catch(l){return void e(l)}a.done?r(c):Promise.resolve(c).then(t,o)}var l={apiKey:"test",authDomain:"next-firebase-demo-94846.firebaseapp.com",projectId:"next-firebase-demo-94846",storageBucket:"next-firebase-demo-94846.appspot.com",messagingSenderId:"858773136186",appId:"1:858773136186:web:38919d90381697cb63e603"};console.log(l.apiKey);var s=(0,u.ZF)(l),f=(0,i.v0)(s),v={signInSuccessUrl:"/",signInOptions:[i.GH.PROVIDER_ID]},d=((0,a.ad)(s),function(n){return(0,a.hJ)((0,a.ad)(s),n)}),p=function(){var n,r=(n=o().mark((function n(r,e,t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,a.pl)((0,a.JU)(r,e),t));case 1:case"end":return n.stop()}}),n)})),function(){var r=this,e=arguments;return new Promise((function(t,o){var u=n.apply(r,e);function i(n){c(u,t,o,i,a,"next",n)}function a(n){c(u,t,o,i,a,"throw",n)}i(void 0)}))});return function(n,e,t){return r.apply(this,arguments)}}()},3342:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return k}});var t=e(4051),o=e.n(t),u=e(5893),i=e(1600),a=e(7702),c=e(7294);function l(n,r,e,t){return new(e||(e=Promise))((function(o,u){function i(n){try{c(t.next(n))}catch(r){u(r)}}function a(n){try{c(t.throw(n))}catch(r){u(r)}}function c(n){var r;n.done?o(n.value):(r=n.value,r instanceof e?r:new e((function(n){n(r)}))).then(i,a)}c((t=t.apply(n,r||[])).next())}))}function s(n,r){var e,t,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,t=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=r.call(n,i)}catch(a){u=[6,a],t=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}var f=function(){return f=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},f.apply(this,arguments)},v=function(n){return{loading:void 0===n||null===n,value:n}},d=function(n){var r=n?n():void 0,e=(0,c.useReducer)((function(n,r){switch(r.type){case"error":return f(f({},n),{error:r.error,loading:!1,value:void 0});case"reset":return v(r.defaultValue);case"value":return f(f({},n),{error:void 0,loading:!1,value:r.value});default:return n}}),v(r)),t=e[0],o=e[1],u=function(){var r=n?n():void 0;o({type:"reset",defaultValue:r})},i=function(n){o({type:"error",error:n})},a=function(n){o({type:"value",value:n})};return(0,c.useMemo)((function(){return{error:t.error,loading:t.loading,reset:u,setError:i,setValue:a,value:t.value}}),[t.error,t.loading,u,i,a,t.value])},p=e(6257);var h=function(){return h=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},h.apply(this,arguments)},y=function(n){return{loading:void 0===n||null===n,value:n}},g=function(n){var r=n?n():void 0,e=(0,c.useReducer)((function(n,r){switch(r.type){case"error":return h(h({},n),{error:r.error,loading:!1,value:void 0});case"reset":return y(r.defaultValue);case"value":return h(h({},n),{error:void 0,loading:!1,value:r.value});default:return n}}),y(r)),t=e[0],o=e[1],u=function(){var r=n?n():void 0;o({type:"reset",defaultValue:r})},i=function(n){o({type:"error",error:n})},a=function(n){o({type:"value",value:n})};return(0,c.useMemo)((function(){return{error:t.error,loading:t.loading,reset:u,setError:i,setValue:a,value:t.value}}),[t.error,t.loading,u,i,a,t.value])},b=function(n,r,e){var t=(0,c.useRef)(n);return(0,c.useEffect)((function(){r(n,t.current)||(t.current=n,e&&e())})),t},w=function(n,r){var e=!n&&!r,t=!!n&&!!r&&(0,p.iE)(n,r);return e||t},m=function(n,r){return b(n,w,r)},x=function(n,r){var e=g(),t=e.error,o=e.loading,u=e.reset,i=e.setError,a=e.setValue,l=e.value,s=m(n,u);(0,c.useEffect)((function(){if(s.current){var n=(null===r||void 0===r?void 0:r.snapshotListenOptions)?(0,p.cf)(s.current,r.snapshotListenOptions,a,i):(0,p.cf)(s.current,a,i);return function(){n()}}a(void 0)}),[s.current]);var f=[l,o,t];return(0,c.useMemo)((function(){return f}),f)};function j(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function E(n,r,e,t,o,u,i){try{var a=n[u](i),c=a.value}catch(l){return void e(l)}a.done?r(c):Promise.resolve(c).then(t,o)}function O(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,o,u=[],i=!0,a=!1;try{for(e=e.call(n);!(i=(t=e.next()).done)&&(u.push(t.value),!r||u.length!==r);i=!0);}catch(c){a=!0,o=c}finally{try{i||null==e.return||e.return()}finally{if(a)throw o}}return u}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return j(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(){var n,r,e=O(function(n,r){var e=d((function(){return n.currentUser})),t=e.error,o=e.loading,u=e.setError,i=e.setValue,f=e.value;(0,c.useEffect)((function(){var e=(0,a.Aj)(n,(function(n){return l(void 0,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:if(!(null===r||void 0===r?void 0:r.onUserChanged))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.onUserChanged(n)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),u(e),[3,4];case 4:return i(n),[2]}}))}))}),u);return function(){e()}}),[n]);var v=[f,o,t];return(0,c.useMemo)((function(){return v}),v)}(i.lX),3),t=e[0],f=e[1],v=(e[2],O(x((0,i.TY)("votes"),{snapshotListenOptions:{includeMetadataChanges:!0}}),3)),p=v[0],h=v[1];v[2];console.log("Loading:",f,"|","Current user:",t),console.log("Loading:",h,"|","Current votes:",null===p||void 0===p?void 0:p.docs),!h&&p&&p.docs.map((function(n){return console.log(n.data())}));var y=function(){var n,r=(n=o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,i.bo)((0,i.TY)("votes"),t.uid,{vote:r});case 1:case"end":return n.stop()}}),n)})),function(){var r=this,e=arguments;return new Promise((function(t,o){var u=n.apply(r,e);function i(n){E(u,t,o,i,a,"next",n)}function a(n){E(u,t,o,i,a,"throw",n)}i(void 0)}))});return function(n){return r.apply(this,arguments)}}();return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",gridGap:8},children:[(0,u.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[(0,u.jsx)("button",{style:{fontSize:32,marginRight:8},onClick:function(){return y("yes")},children:"\u2714\ufe0f\ud83c\udf4d\ud83c\udf55"}),(0,u.jsxs)("h3",{children:["Pinapple Lovers:"," ",null===p||void 0===p||null===(n=p.docs)||void 0===n?void 0:n.filter((function(n){return"yes"===n.data().vote})).length]})]}),(0,u.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[(0,u.jsx)("button",{style:{fontSize:32,marginRight:8},onClick:function(){return y("no")},children:"\u274c\ud83c\udf4d\ud83c\udf55"}),(0,u.jsxs)("h3",{children:["Pinapple Haters:"," ",null===p||void 0===p||null===(r=p.docs)||void 0===r?void 0:r.filter((function(n){return"no"===n.data().vote})).length]})]})]})}}},function(n){n.O(0,[16,333,39,774,888,179],(function(){return r=5301,n(n.s=r);var r}));var r=n.O();_N_E=r}]);