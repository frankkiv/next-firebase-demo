(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3342)}])},6611:function(e,r,n){"use strict";n.d(r,{lX:function(){return f},ct:function(){return v},TY:function(){return d},bo:function(){return p}});var t=n(4051),o=n.n(t),u=n(5503),i=n(7702),a=n(6257);function c(e,r,n,t,o,u,i){try{var a=e[u](i),c=a.value}catch(l){return void n(l)}a.done?r(c):Promise.resolve(c).then(t,o)}var l={apiKey:"AIzaSyArk-HMekQ8UpSTeSrxsX7dsDCLubzemvc",authDomain:"next-firebase-demo-94846.firebaseapp.com",projectId:"next-firebase-demo-94846",storageBucket:"next-firebase-demo-94846.appspot.com",messagingSenderId:"858773136186",appId:"1:858773136186:web:38919d90381697cb63e603"};console.log(l.apiKey);var s=(0,u.ZF)(l),f=(0,i.v0)(s),v={signInSuccessUrl:"./".concat("/next-firebase-demo","/"),signInOptions:[i.GH.PROVIDER_ID]},d=((0,a.ad)(s),function(e){return(0,a.hJ)((0,a.ad)(s),e)}),p=function(){var e,r=(e=o().mark((function e(r,n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,a.pl)((0,a.JU)(r,n),t));case 1:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var u=e.apply(r,n);function i(e){c(u,t,o,i,a,"next",e)}function a(e){c(u,t,o,i,a,"throw",e)}i(void 0)}))});return function(e,n,t){return r.apply(this,arguments)}}()},3342:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var t=n(4051),o=n.n(t),u=n(5893),i=n(6611),a=n(7702),c=n(7294);function l(e,r,n,t){return new(n||(n=Promise))((function(o,u){function i(e){try{c(t.next(e))}catch(r){u(r)}}function a(e){try{c(t.throw(e))}catch(r){u(r)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,a)}c((t=t.apply(e,r||[])).next())}))}function s(e,r){var n,t,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,t=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=r.call(e,i)}catch(a){u=[6,a],t=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}var f=function(){return f=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},f.apply(this,arguments)},v=function(e){return{loading:void 0===e||null===e,value:e}},d=function(e){var r=e?e():void 0,n=(0,c.useReducer)((function(e,r){switch(r.type){case"error":return f(f({},e),{error:r.error,loading:!1,value:void 0});case"reset":return v(r.defaultValue);case"value":return f(f({},e),{error:void 0,loading:!1,value:r.value});default:return e}}),v(r)),t=n[0],o=n[1],u=function(){var r=e?e():void 0;o({type:"reset",defaultValue:r})},i=function(e){o({type:"error",error:e})},a=function(e){o({type:"value",value:e})};return(0,c.useMemo)((function(){return{error:t.error,loading:t.loading,reset:u,setError:i,setValue:a,value:t.value}}),[t.error,t.loading,u,i,a,t.value])},p=n(6257);var h=function(){return h=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},h.apply(this,arguments)},y=function(e){return{loading:void 0===e||null===e,value:e}},g=function(e){var r=e?e():void 0,n=(0,c.useReducer)((function(e,r){switch(r.type){case"error":return h(h({},e),{error:r.error,loading:!1,value:void 0});case"reset":return y(r.defaultValue);case"value":return h(h({},e),{error:void 0,loading:!1,value:r.value});default:return e}}),y(r)),t=n[0],o=n[1],u=function(){var r=e?e():void 0;o({type:"reset",defaultValue:r})},i=function(e){o({type:"error",error:e})},a=function(e){o({type:"value",value:e})};return(0,c.useMemo)((function(){return{error:t.error,loading:t.loading,reset:u,setError:i,setValue:a,value:t.value}}),[t.error,t.loading,u,i,a,t.value])},b=function(e,r,n){var t=(0,c.useRef)(e);return(0,c.useEffect)((function(){r(e,t.current)||(t.current=e,n&&n())})),t},w=function(e,r){var n=!e&&!r,t=!!e&&!!r&&(0,p.iE)(e,r);return n||t},m=function(e,r){return b(e,w,r)},x=function(e,r){var n=g(),t=n.error,o=n.loading,u=n.reset,i=n.setError,a=n.setValue,l=n.value,s=m(e,u);(0,c.useEffect)((function(){if(s.current){var e=(null===r||void 0===r?void 0:r.snapshotListenOptions)?(0,p.cf)(s.current,r.snapshotListenOptions,a,i):(0,p.cf)(s.current,a,i);return function(){e()}}a(void 0)}),[s.current]);var f=[l,o,t];return(0,c.useMemo)((function(){return f}),f)};function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function E(e,r,n,t,o,u,i){try{var a=e[u](i),c=a.value}catch(l){return void n(l)}a.done?r(c):Promise.resolve(c).then(t,o)}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,u=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(u.push(t.value),!r||u.length!==r);i=!0);}catch(c){a=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return u}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return j(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){var e,r,n=k(function(e,r){var n=d((function(){return e.currentUser})),t=n.error,o=n.loading,u=n.setError,i=n.setValue,f=n.value;(0,c.useEffect)((function(){var n=(0,a.Aj)(e,(function(e){return l(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:if(!(null===r||void 0===r?void 0:r.onUserChanged))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.onUserChanged(e)];case 2:return t.sent(),[3,4];case 3:return n=t.sent(),u(n),[3,4];case 4:return i(e),[2]}}))}))}),u);return function(){n()}}),[e]);var v=[f,o,t];return(0,c.useMemo)((function(){return v}),v)}(i.lX),3),t=n[0],f=n[1],v=(n[2],k(x((0,i.TY)("votes"),{snapshotListenOptions:{includeMetadataChanges:!0}}),3)),p=v[0],h=v[1];v[2];console.log("Loading:",f,"|","Current user:",t),console.log("Loading:",h,"|","Current votes:",null===p||void 0===p?void 0:p.docs),!h&&p&&p.docs.map((function(e){return console.log(e.data())}));var y=function(){var e,r=(e=o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.bo)((0,i.TY)("votes"),t.uid,{vote:r});case 1:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var u=e.apply(r,n);function i(e){E(u,t,o,i,a,"next",e)}function a(e){E(u,t,o,i,a,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",alignItems:"center",justifyContent:"center",gridGap:8},children:[(0,u.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[(0,u.jsx)("button",{style:{fontSize:32,marginRight:8},onClick:function(){return y("yes")},children:"\u2714\ufe0f\ud83c\udf4d\ud83c\udf55"}),(0,u.jsxs)("h3",{children:["Pinapple Lovers:"," ",null===p||void 0===p||null===(e=p.docs)||void 0===e?void 0:e.filter((function(e){return"yes"===e.data().vote})).length]})]}),(0,u.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[(0,u.jsx)("button",{style:{fontSize:32,marginRight:8},onClick:function(){return y("no")},children:"\u274c\ud83c\udf4d\ud83c\udf55"}),(0,u.jsxs)("h3",{children:["Pinapple Haters:"," ",null===p||void 0===p||null===(r=p.docs)||void 0===r?void 0:r.filter((function(e){return"no"===e.data().vote})).length]})]})]})}}},function(e){e.O(0,[16,333,39,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);